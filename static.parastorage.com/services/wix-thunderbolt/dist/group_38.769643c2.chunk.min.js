"use strict";
(self.webpackJsonp__wix_thunderbolt_app = self.webpackJsonp__wix_thunderbolt_app || []).push([
    [6107], {
        49694: function(e, t, a) {
            a.r(t), a.d(t, {
                DynamicPagesResponseHandlerSymbol: function() {
                    return u.h8
                },
                site: function() {
                    return M
                }
            });
            var n = a(43757),
                s = a(19238),
                r = a(8562),
                o = a(61049),
                i = a(49574),
                c = a(5096),
                l = a(56405),
                u = a(63577);
            const p = "_403_dp",
                d = "_404_dp",
                g = "_500_dp",
                f = "_uknown_error_dp",
                h = e => e.replace("./", "").split("/"),
                m = e => /(^https?)|(^data)|(^blob)|(^\/\/)/.test(e),
                b = (e, t) => /^\/(.*)/.test(e) ? `.${e}` : `./${t}/${e}`,
                D = e => h(e)[0];
            var I, v = a(46466),
                y = a(88902);
            ! function(e) {
                e.PAGES = "pages", e.SITEMAP = "sitemap"
            }(I || (I = {}));
            const P = (0, n.ff)([(0, n.t6)(o.R9, u.u2), l.Xb, i.U, s.Iz, u.h8, u.Dp, c.ZQ, v.p, (0, n.jt)(y.aR)], (({
                prefixToRouterFetchData: e,
                routerPagesSeoToIdMap: t,
                externalBaseUrl: a,
                viewMode: n
            }, s, o, i, {
                handleResponse: c
            }, l, u, p, g) => {
                const f = (e, t, s) => {
                        const {
                            routerPrefix: r,
                            config: o,
                            pageRoles: i,
                            roleVariations: c
                        } = e.optionsData.bodyData, l = (e => `/${h(e).slice(1).join("/")}`)(t), u = `${a}${r}${l}${s}`;
                        return JSON.stringify({
                            routerPrefix: r,
                            routerSuffix: l,
                            fullUrl: u,
                            config: o,
                            pageRoles: i,
                            roleVariations: c,
                            requestInfo: {
                                env: "browser",
                                formFactor: n
                            }
                        })
                    },
                    m = (e, t, a, n) => {
                        var o;
                        const {
                            basePath: i,
                            queryParams: c,
                            appDefinitionId: l
                        } = e.urlData, d = ((e, t, a) => {
                            const n = new URL(e);
                            return n.searchParams.append(t, a), n.toString()
                        })(`${i}/${n}?${c}`, "instance", s.getAppInstanceByAppDefId(l)), h = e.shouldAddWixCodeInstanceToHeader && s.getAppInstanceByAppDefId(e.wixCodeAppDefinitionId);
                        h && (e.optionsData.headers.Authorization = h), e.optionsData.headers["X-XSRF-TOKEN"] = (0, r.m5)(null === (o = null == u ? void 0 : u.document) || void 0 === o ? void 0 : o.cookie);
                        return {
                            url: d,
                            options: Object.assign(Object.assign({
                                method: "POST",
                                body: f(e, t, a),
                                headers: Object.assign(Object.assign(Object.assign({}, {
                                    commonConfig: JSON.stringify(p.getCommonConfig())
                                }), e.optionsData.headers), g ? {
                                    "x-wix-linguist": `${g.currentLanguage.languageCode}|${g.currentLanguage.locale}|${g.currentLanguage.isPrimaryLanguage}|00000000-0000-0000-0000-000000000000`
                                } : {})
                            }, e.optionsData.credentials ? {
                                credentials: e.optionsData.credentials
                            } : {}), e.optionsData.mode ? {
                                mode: e.optionsData.mode
                            } : {})
                        }
                    };
                return {
                    getSitemapFetchParams(t) {
                        const a = e[t];
                        return a ? m(a, i.getRelativeEncodedUrl(), i.getParsedUrl().search, I.SITEMAP) : null
                    },
                    async handle(a) {
                        if (!a.pageId && a.relativeUrl && a.parsedUrl && a.relativeEncodedUrl) {
                            const n = D(a.relativeUrl),
                                s = e[n];
                            if (!s) return t[n] ? Object.assign(Object.assign({}, a), {
                                pageId: d
                            }) : a;
                            const {
                                url: r,
                                options: i
                            } = m(s, a.relativeEncodedUrl, a.parsedUrl.search, I.PAGES), u = c(o.envFetch(r, i), a);
                            return l.getHandler().handle(u, a)
                        }
                        return a
                    }
                }
            }));
            var w = a(59032),
                S = a(17924),
                j = a(82627),
                U = a(21924);
            const O = (0, n.ff)([(0, n.t6)(o.R9, u.u2), c.ZQ, S.Ji, U.QJ, j.O, c.sb], (({
                externalBaseUrl: e
            }, t, a, n, s, o) => ({
                async handleResponse(a, s) {
                    const i = D(s.relativeUrl);
                    return a.then((async a => {
                        if (!a.ok) throw a;
                        const c = await a.json(),
                            {
                                result: l,
                                exception: u
                            } = c,
                            {
                                redirectUrl: h,
                                status: D
                            } = l;
                        if (D && (0, r.yF)(t) && n.isInSEO() && n.setVeloSeoStatusCode(D), h) {
                            if ((0, r.yF)(t)) {
                                const t = ((e, t, a, n) => {
                                    if (m(e)) return e;
                                    const s = b(e, a),
                                        r = new URL(s, `${t}/`);
                                    return r.search = n, r.toString()
                                })(h, e, i, s.parsedUrl.search);
                                return n.setRedirectUrl(t), null
                            }
                            if (await o, t.document.head.querySelector('meta[http-equiv="refresh"]')) return null;
                            if (m(h)) return t.location.assign(h), null;
                            return {
                                redirectUrl: b(h, i)
                            }
                        }
                        const I = (({
                            status: e,
                            page: t,
                            redirectUrl: a
                        }, n) => n ? g : 403 === e ? p : 404 === e ? d : t || a ? null : f)(l, u);
                        return I ? Object.assign(Object.assign({}, s), {
                            pageId: I
                        }) : ((e, t) => {
                            const {
                                page: a,
                                data: n,
                                head: s,
                                tpaInnerRoute: r,
                                publicData: o
                            } = t.result;
                            return Object.assign(Object.assign({}, e), {
                                pageId: a,
                                dynamicRouteData: {
                                    pageData: n,
                                    pageHeadData: s,
                                    publicData: o,
                                    tpaInnerRoute: r
                                }
                            })
                        })(s, c)
                    })).catch((() => (0, r.yF)(t) ? null : Object.assign(Object.assign({}, s), {
                        pageId: g
                    })))
                }
            })));
            var R = a(26513),
                $ = a(2811),
                _ = a(95848);
            const x = (0, n.ff)([(0, n.t6)(o.Wf, u.u2), s.F0, R.jj, (0, n.jt)($.n9)], ((e, t, a, n) => {
                    const s = async (e, s) => {
                        const {
                            success: r,
                            reason: o
                        } = await (async () => {
                            try {
                                return await n.promptLogin(), {
                                    success: !0,
                                    reason: ""
                                }
                            } catch (e) {
                                return {
                                    success: !1,
                                    reason: e
                                }
                            }
                        })();
                        return o === _.$9.CANCELED && a.isLandingOnProtectedPage() ? t.navigate("./") : !!r && t.navigate(s.parsedUrl.href)
                    };
                    return e.update((() => ({
                        handlePermissions: s,
                        isMemberLoggedIn: async () => !!await (null == n ? void 0 : n.getMemberDetails()),
                        isSiteMembersInstalled: !!n
                    }))), {
                        appWillMount: async () => {}
                    }
                })),
                A = (0, n.ff)([(0, n.t6)(o.Wf, u.u2)], (e => ({
                    getHandler: () => ({
                        handle: async (t, a) => {
                            const n = await t,
                                {
                                    handlePermissions: s,
                                    isMemberLoggedIn: r,
                                    isSiteMembersInstalled: o
                                } = e.get(),
                                i = await r();
                            return o && (null == n ? void 0 : n.pageId) === p && !i ? (s(n, a), null) : n
                        }
                    })
                }))),
                M = e => {
                    e(s.BD.Dynamic, o.o8).to(P), e(u.h8).to(O), e(u.N8, w.j.AppWillMountHandler).to(x), e(u.Dp).to(A)
                }
        },
        39489: function(e, t, a) {
            a.r(t), a.d(t, {
                page: function() {
                    return l
                }
            });
            var n = a(59032),
                s = a(61049),
                r = a(55048);
            var o = a(43757),
                i = a(50614);
            const c = (0, o.ff)([(0, o.t6)(s.$e, i.u), r.QZ, r.xP], ((e, t, a) => ({
                    name: "sosp",
                    pageWillMount(n) {
                        ((e, t, a, n) => {
                            const {
                                sospCompId: s,
                                sospParentId: r,
                                position: o,
                                pagesToShowSosp: i
                            } = t, c = a.get(r);
                            c && (i[e] ? (c.components.includes(s) || a.addComponentToParent(r, s, o), n.update({
                                [r]: {
                                    className: "page-with-sosp"
                                }
                            })) : (c.components.includes(s) && a.removeComponentFromParent(r, s), n.update({
                                [r]: {
                                    className: "page-without-sosp"
                                }
                            })))
                        })(n, e, t, a)
                    }
                }))),
                l = e => {
                    e(n.j.PageWillMountHandler).to(c)
                }
        }
    }
]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/group_38.769643c2.chunk.min.js.map